# ============================================================
# Candor Dashboard (Next.js) — Environment Variables
# ============================================================
# Copy this file to .env and fill in the values.
# Lines starting with # are comments.
# ============================================================

# ── REQUIRED ─────────────────────────────────────────────────

# PostgreSQL connection string.
# Railway: automatically injected when you add a PostgreSQL plugin.
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL=postgresql://user:pass@localhost:5432/candor

# JWT signing secret. MUST be at least 32 characters.
# Generate with: openssl rand -base64 32
JWT_SECRET=

# ── REQUIRED (Client-side) ───────────────────────────────────
# Variables prefixed with NEXT_PUBLIC_ are exposed to the browser.

# WebSocket URL for the proxy's real-time event stream.
# Must point to the @candor/proxy WebSocket endpoint.
# Local:   ws://localhost:3101
# Railway: wss://your-proxy-service.up.railway.app (if single-port mode)
NEXT_PUBLIC_WS_URL=ws://localhost:3101

# ── OPTIONAL (Client-side) ───────────────────────────────────

# Proxy health check URL. If set, the dashboard pings <URL>/health.
# If not set, falls back to /api/proxy-health (same-origin).
# NEXT_PUBLIC_PROXY_URL=http://localhost:3100

# Site URL used for Open Graph meta tags (og:url).
# NEXT_PUBLIC_SITE_URL=https://candor.sh

# Solana network for wallet adapter display (does not affect auth).
# Values: mainnet-beta | devnet | testnet
# NEXT_PUBLIC_SOLANA_NETWORK=mainnet-beta

# Solana RPC endpoint (only used if you customize the wallet provider).
# NEXT_PUBLIC_SOLANA_RPC_URL=https://api.mainnet-beta.solana.com

# ── OPTIONAL (Server-side) ───────────────────────────────────

# Secret for signing outbound webhook payloads (HMAC-SHA256).
# Required only if you use alert rule webhooks.
# Generate with: openssl rand -base64 32
# WEBHOOK_SECRET=

# Data retention period in days. Events, sessions, alerts, and expired
# nonces older than this are automatically purged every 24 hours.
# Default: 7
# LOG_RETENTION_DAYS=7

# Maximum events stored per proxy session. Events beyond this limit
# are silently dropped.
# Default: 1000
# MAX_EVENTS_PER_SESSION=1000

# ── DOCKER COMPOSE ONLY ─────────────────────────────────────
# These are used by docker-compose.yml to provision the PostgreSQL
# container. They are NOT read by the Next.js app itself.

# POSTGRES_USER=candor
# POSTGRES_PASSWORD=<generate-a-strong-password>
# POSTGRES_DB=candor
